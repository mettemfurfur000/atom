items:
  atom:pebble:
    material: nether_brick
    data:
      item-name: <!i><l10n:item.pebble.name>
      components:
        minecraft:consumable: {
          consume_seconds: 10000,
          animation: "brush"
        }
    client-bound-data:
      lore:
        - <!i><gray><l10n:item.pebble.lore_1>
        - ""
        - <!i><dark_gray><l10n:item.pebble.lore_2>
        - <!i><dark_gray><l10n:item.pebble.lore_3>
        - ""
        - <!i><dark_gray><l10n:item.pebble.lore_4>
        - <!i><dark_gray><l10n:item.pebble.lore_5>
        - ""
        - <!i><white><image:atom:badge_tool> <image:atom:badge_natural> <image:atom:badge_age_foraging>
    model:
      template: default:model/simplified_generated
      arguments:
        path: minecraft:item/pebble
blocks:
  atom:pebble:
    settings:
      template:
        - default:sound/stone
        - default:hardness/none
      overrides:
        map-color: 11
        push-reaction: destroy
    behaviors:
      - type: liquid_flowable_block
      - type: sturdy_base_block
        direction: down
        support-types:
          - full
    loot:
      pools:
        - rolls: 1
          entries:
            - type: item
              item: atom:pebble
              functions:
                - type: set_count
                  count: 3
                  add: false
                  conditions:
                    - type: match_block_property
                      properties:
                        pebble: 3
                - type: set_count
                  count: 2
                  add: false
                  conditions:
                    - type: match_block_property
                      properties:
                        pebble: 2
                - type: explosion_decay
        - rolls: 1
          entries:
            - type: item
              item: minecraft:raw_copper
              functions:
                - type: set_count
                  count: 1
                  add: false
              conditions:
                - type: random
                  value: 0.01
        - rolls: 1
          entries:
            - type: item
              item: minecraft:raw_iron
              functions:
                - type: set_count
                  count: 1
                  add: false
              conditions:
                - type: random
                  value: 0.01
        - rolls: 1
          entries:
            - type: item
              item: minecraft:raw_tin
              functions:
                - type: set_count
                  count: 1
                  add: false
              conditions:
                - type: random
                  value: 0.01
    states:
      id: 0
      properties:
        pebble:
          type: int
          range: 1~3
          default: 1
      appearances:
        one:
          auto-state: lower_tripwire
          models:
            - path: minecraft:block/custom/pebble_1
              weight: 1
            - path: minecraft:block/custom/pebble_1
              weight: 1
              y: 90
            - path: minecraft:block/custom/pebble_1
              weight: 1
              y: 180
            - path: minecraft:block/custom/pebble_1
              weight: 1
              y: 270
        two:
          auto-state: lower_tripwire
          models:
            - path: minecraft:block/custom/pebble_2
              weight: 1
            - path: minecraft:block/custom/pebble_2
              weight: 1
              y: 90
            - path: minecraft:block/custom/pebble_2
              weight: 1
              y: 180
            - path: minecraft:block/custom/pebble_2
              weight: 1
              y: 270
        three:
          auto-state: higher_tripwire
          models:
            - path: minecraft:block/custom/pebble_3
              weight: 1
            - path: minecraft:block/custom/pebble_3
              weight: 1
              y: 90
            - path: minecraft:block/custom/pebble_3
              weight: 1
              y: 180
            - path: minecraft:block/custom/pebble_3
              weight: 1
              y: 270
      variants:
        pebble=1:
          appearance: 'one'
        pebble=2:
          appearance: 'two'
        pebble=3:
          appearance: 'three'
recipes:
  atom:pebble:
    type: shapeless
    ingredients:
      - minecraft:cobblestone
    result:
      id: atom:pebble
      count: 4
  atom:cobblestone_from_pebble:
    type: shaped
    pattern:
      - AA
      - AA
    ingredients:
      A: atom:pebble
    result:
      id: minecraft:cobblestone
      count: 1
translations:
  en:
    item.pebble.name: Pebble
    item.pebble.lore_1: "A small, shiny pebble."
    item.pebble.lore_2: "Use at a <gray>knapping station</gray>"
    item.pebble.lore_3: " to craft <gray>stone tool heads</gray>."
    item.pebble.lore_4: "Strike against a <gray>stone block</gray>"
    item.pebble.lore_5: " to sharpen edges."